import React from 'react'
import styled from 'styled-components'
import { Grid, Cell, Select } from '../components'
import { Tooltip } from 'react-tippy'

const CreativeBoardPage = ({ data }) => {
  const boards = data.allMarkdownRemark.edges.map(v => ({
    ...v.node.frontmatter,
  }))

  const cellSize = category => {
    if (category === 'gif / gif')
      return { width: 6, height: 5, top: 1, left: 1 }

    if (category === 'video / video')
      return { width: 12, height: 7, top: 1, left: 1 }

    if (category === 'audio / audio')
      return { width: 8, height: 4, top: 1, left: 1 }

    if (category === 'illustration / ilustracija')
      return { width: 4, height: 7, top: 1, left: 1 }

    return { width: 5, height: 5, top: 1, left: 1 }
  }

  return (
    <Grid>
      <Cell width={4} left={8} height={1} bottom={2}>
        <Select
          id="from"
          placeholder="Category"
          options={boards
            .map(v => v.category)
            .filter((v, i, a) => a.indexOf(v) === i)}
          onChange={() => console.log('chang')}
        />
      </Cell>

      {boards &&
        boards.map((board, i) => (
          <Cell key={i} {...cellSize(board.category)}>
            <div
              style={{
                width: '100%',
                height: '100%',
                overflow: 'hidden',
                position: 'relative',
              }}
            >
              {board.image ? (
                <ImageWithZoom src={board.image} alt="" />
              ) : (
                <iframe
                  width="100%"
                  height="315"
                  src={board.url}
                  frameBorder="0"
                />
              )}
              <div
                style={{
                  position: 'absolute',
                  bottom: '0',
                  right: '0',
                  width: '45px',
                  background: 'black',
                  height: '45px',
                  padding: '0px 10px 15px 10px',
                }}
              >
                <Tooltip
                  html={<Members />}
                  position="top"
                  trigger="click"
                  theme="light"
                  arrow={true}
                  inertia={true}
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 101.01 162.73"
                  >
                    <g fill="white">
                      <path d="M11.22,95.6c0-4.42.1-8.81,0-13.18a5.9,5.9,0,0,1,2.6-5.22c3.53-2.67,7.66-4,11.89-4.91,4.44-1,8.94-1.6,13.53-2.4.19-2,.17-3.81-1.89-5.62a18.34,18.34,0,0,1-4.59-22A19.92,19.92,0,0,1,53.36,30.88C61.24,32,68.47,39,69.82,47c1.24,7.37-1.5,13.27-6.95,18.07a2.89,2.89,0,0,0-1.17,2.51c.08,2.51,0,5,0,7.54a6,6,0,0,1-6.16,6.22c-3,0-6.08,0-9.12,0-4.16,0-6.07-1.4-7.33-5.6-7.64.8-15.39,1.21-22.33,5l0,.88A33.37,33.37,0,0,0,20,83.09a77.87,77.87,0,0,0,18.91,3.44A132.46,132.46,0,0,0,72.42,85.2c3.15-.57,6.23-1.52,9.31-2.38a22,22,0,0,0,3-1.43c-1.29-.86-2.09-1.7-3-2-4.65-1.31-9.32-2.55-14-3.62-2-.45-3.23-1.35-3.12-3s1.58-2.89,3.65-2.57a49.23,49.23,0,0,1,17.05,5.54c3,1.73,4.94,4,4.61,7.89s-.07,7.94-.07,11.33C92.43,96.78,95,98.15,97,100a12.58,12.58,0,0,1,4,9.59q0,2.37,0,4.73a14.47,14.47,0,0,1-10.13,14,2.25,2.25,0,0,0-1.78,2,39.78,39.78,0,0,1-40.26,32.34c-17.53-.56-33.68-14.53-36.87-32a2.7,2.7,0,0,0-2.15-2.44A14.47,14.47,0,0,1,0,114.73c0-1,0-2,0-3C0,103.15,3.06,98.7,11.22,95.6Zm73-7.81c-11,4.11-22.33,4.77-33.68,4.77s-22.73-.66-33.6-4.75c0,12.76,0,25.44,0,38.11a19.48,19.48,0,0,0,.46,3.64c3,15.3,13.88,25.39,29.46,27.35,16.59,2.09,32.5-8.74,36.2-25a63.09,63.09,0,0,0,1.08-13C84.28,108.55,84.18,98.21,84.18,87.78ZM56.12,67.27c0-2.26-.23-4.22,2-5.67,5.5-3.5,7.53-9.2,5.84-15.35-1.61-5.85-6.33-9.54-12.72-10a13.59,13.59,0,0,0-13.9,8.83c-2.25,6.16-.44,12.48,4.92,16.11,1.93,1.31,2.94,2.71,2.61,5a4.45,4.45,0,0,0,.1,1Zm-45,55.6V101.62a7.22,7.22,0,0,0-5.49,7.07c-.11,2.39-.1,4.79,0,7.17A7.36,7.36,0,0,0,11.15,122.87Zm78.7,0a7.48,7.48,0,0,0,5.52-7.26c.09-2.33.1-4.67,0-7a7.18,7.18,0,0,0-5.51-7ZM56,73.06H45v2.6H56Z" />
                      <path d="M70,34.07A11.66,11.66,0,0,1,67.66,32c-.76-1.18-.28-2.36.67-3.31l6.81-6.82c2.23-2.23,4.45-4.47,6.69-6.68,1.46-1.43,3.13-1.54,4.32-.33s1.09,2.86-.36,4.32q-6.61,6.65-13.27,13.24A16.16,16.16,0,0,1,70,34.07Z" />
                      <path d="M33.67,30.43c0,2.48-2.15,3.82-4,2.93a4.3,4.3,0,0,1-1.11-.82c-4.47-4.45-8.95-8.89-13.36-13.4a3.3,3.3,0,0,1-1.08-2.24,4.23,4.23,0,0,1,1.48-2.51,2.34,2.34,0,0,1,3.19.45q7,7,14,14A5.51,5.51,0,0,1,33.67,30.43Z" />
                      <path d="M12.81,47.7c3,0,6.07,0,9.1,0,2.07,0,3.31,1.06,3.34,2.77S24,53.3,22,53.3q-9.27,0-18.55,0C1.26,53.3,0,52.2,0,50.44s1.31-2.75,3.53-2.75h9.27Z" />
                      <path d="M88.39,53.31h-9.1c-2.23,0-3.5-1-3.53-2.75S77,47.71,79.19,47.7q9.27,0,18.55,0c2,0,3.29,1.12,3.27,2.83s-1.28,2.76-3.34,2.77C94.57,53.32,91.48,53.31,88.39,53.31Z" />
                      <path d="M53.32,12.62c0,3.09,0,6.18,0,9.27,0,2.07-1.06,3.32-2.76,3.35S47.71,24,47.71,22q0-9.36,0-18.72c0-2,1.14-3.29,2.85-3.26s2.74,1.25,2.76,3.17C53.34,6.32,53.32,9.47,53.32,12.62Z" />
                      <path d="M50.34,143.09a21,21,0,0,1-15.28-5.88c-1.59-1.49-1.82-3.16-.63-4.44s2.93-1.26,4.44.33c5.64,5.95,17.66,5.92,23.27,0,1.52-1.6,3.25-1.63,4.44-.36s1,2.94-.6,4.44C61.72,141.24,56.79,143.1,50.34,143.09Z" />
                      <path d="M42.12,119.14c.37-5.66,2.66-11.4,6-16.76a2.71,2.71,0,0,1,4-.9,2.74,2.74,0,0,1,.69,4,33.91,33.91,0,0,0-4.85,12.63,19,19,0,0,0-.18,2.61,2.43,2.43,0,0,0,2.51,2.73c2.15.19,3.32,1.47,3.06,3.19s-1.91,2.72-4,2.31C45.06,128.14,42,124.24,42.12,119.14Z" />
                      <path d="M33.6,101a2.8,2.8,0,1,1-2.74,2.82A2.83,2.83,0,0,1,33.6,101Z" />
                      <path d="M67.3,101a2.81,2.81,0,0,1,2.84,2.72,2.8,2.8,0,1,1-5.6.07A2.79,2.79,0,0,1,67.3,101Z" />
                      <path d="M47.67,49.63C49,48.21,49.93,47.1,51,46.08c1.6-1.59,3.14-1.6,4.72-.05s3.29,3.3,4.91,5c1.41,1.46,1.5,3.13.27,4.32S58,56.38,56.68,55c-1.07-1.06-2-2.23-3.34-3.68C52,52.76,51,54,49.92,55c-1.51,1.48-2.9,1.48-4.43,0q-2.65-2.55-5.2-5.19a2.81,2.81,0,1,1,3.92-4C45.33,47,46.33,48.16,47.67,49.63Z" />
                    </g>
                  </svg>
                </Tooltip>
              </div>
            </div>
          </Cell>
        ))}
    </Grid>
  )
}

export default CreativeBoardPage

const ImageWithZoom = styled.img`
  width: 100%;
  height: 100%;
  object-fit: cover;
  transform: scale(1);
  transition: all 0.3s ease-in-out;

  &:hover {
    transform: scale(1.3);
  }
`

const Members = styled.div`
  width: 300px;
  height: 500px;
  background: white;
  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.15);
`

export const query = graphql`
  query CreativeBoardQuery {
    allMarkdownRemark(filter: { fileAbsolutePath: { regex: "/board/" } }) {
      edges {
        node {
          frontmatter {
            category
            image
            url
          }
        }
      }
    }
  }
`
